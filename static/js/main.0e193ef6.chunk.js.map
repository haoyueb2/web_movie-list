{"version":3,"sources":["components/detail.js","components/charts.js","components/App.js","index.js"],"names":["Header","Layout","Content","Footer","addjson","currentjson","Detail","Menu","SubMenu","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","data","directors","casts","writers","rating","average","rating_people","_i","_addjson","length","tmp","tmpIn","console","log","JSON","parse","e","_this2","fetch","webBase","match","params","id","then","res","json","handleJson","setState","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","currentItem","value","_id","tepdirect","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","name","err","return","tepcasts","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","tepwriters","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","teprating","parseFloat","react_default","a","createElement","layout","className","menu","theme","mode","defaultSelectedKeys","style","lineHeight","Item","key","href","icon","type","padding","breadcrumb","margin","background","minHeight","Align","title","card","width","cover","alt","src","poster","rate","disabled","allowHalf","pubdata","duration","languages","summary","textAlign","Component","Charts","genresNumber","countryNumber","languageNumber","genreAnalyze","countryAnalyze","languageAnalyze","analysis","genre","movieNumber","eachitem","isexist","genres","eachgen","_i2","_analysis","eachana","push","country","countries","each","_i3","_analysis2","language","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","_i4","_analysis3","label","rotate","textStyle","fill","fontSize","fontWeight","textBaseline","charts_Header","charts_Content","BizCharts","height","scale","tickInterval","forceFit","crosshairs","position","color","charts_Footer","Search","Input","Option","Select","howsearch","IconText","_ref","text","marginRight","Index","pageNum","pageId","all","listContent","fetchData","page","_this3","fetchTitleData","_this4","_this5","fetchGenreData","_this6","_this7","fetchAllData","_this8","_this9","selectBefore","es_select","defaultValue","onChange","App_Header","App_SubMenu","onClick","searchGenre","App_Content","addonBefore","placeholder","enterButton","size","onSearch","searchTitle","searchAll","list","itemLayout","pagination","pageSize","total","dataSource","footer","renderItem","item","actions","tooltips","App_IconText","extra","Meta","concat","description","pubdate","App_Footer","RouterIndex","react_router_dom","react_router","exact","path","component","ReactDOM","render","components_App","document","getElementById"],"mappings":"2UAEQA,EAA2BC,IAA3BD,OAAQE,EAAmBD,IAAnBC,QAASC,EAAUF,IAAVE,OACrBC,EAAU,GACVC,EAAc,GA8HHC,GA3HCC,IAAKC,oBAEjB,SAAAF,EAAYG,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAP,IACfI,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAL,GAAAU,KAAAH,KAAMJ,KACDQ,MAAQ,CACTC,KAAM,GACNC,UAAW,GACXC,MAAO,GACPC,QAAS,GACTC,OAAQ,CAAEC,QAAQ,EAAIC,cAAe,KAP1Bd,4EAWf,QAAAe,EAAA,EAAAC,EAAetB,EAAfqB,EAAAC,EAAAC,OAAAF,IAAwB,CAApB,IAAIG,EAAGF,EAAAD,GAEP,IAAI,IAAII,KADRC,QAAQC,IAAIH,GACKA,EAAK,CAClB,IACIA,EAAIC,GAASG,KAAKC,MAAML,EAAIC,IAC9B,MAAMK,GACJJ,QAAQC,IAAI,eAAKF,EAAMK,GAG3BJ,QAAQC,IAAIH,EAAIC,kDAIR,IAAAM,EAAAtB,KAGhBuB,MAAMC,yCAAmBxB,KAAKJ,MAAM6B,MAAMC,OAAOC,IAC5CC,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAE,GACFb,QAAQC,IAAIY,GACZvC,EAAUuC,EACVb,QAAQC,IAAI3B,GACZ+B,EAAKS,aACLT,EAAKU,SAAS,CACV3B,KAAMd,IANC,IAAA0C,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAQX,QAAAC,EAAAC,EAAwB/C,EAAxBgD,OAAAC,cAAAP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,EAAiC,KAAxBU,EAAwBN,EAAAO,MAC7B,GAAID,EAAYE,MAAQvB,EAAK1B,MAAM6B,MAAMC,OAAOC,GAAI,CAChDnC,EAAcmD,EACd1B,QAAQC,IAAI1B,GACZ,IAAIsD,EAAY,GAHgCC,GAAA,EAAAC,GAAA,EAAAC,OAAAb,EAAA,IAIhD,QAAAc,EAAAC,EAAc3D,EAAYc,UAA1BiC,OAAAC,cAAAO,GAAAG,EAAAC,EAAAV,QAAAC,MAAAK,GAAA,EAAqC,CACjCD,GADiCI,EAAAN,MAClBQ,MAL6B,MAAAC,GAAAL,GAAA,EAAAC,EAAAI,EAAA,YAAAN,GAAA,MAAAI,EAAAG,QAAAH,EAAAG,SAAA,WAAAN,EAAA,MAAAC,GAOhD,IAAIM,EAAW,GAPiCC,GAAA,EAAAC,GAAA,EAAAC,OAAAtB,EAAA,IAQhD,QAAAuB,EAAAC,EAAcpE,EAAYe,MAA1BgC,OAAAC,cAAAgB,GAAAG,EAAAC,EAAAnB,QAAAC,MAAAc,GAAA,EAAiC,CAC7BD,EAAWA,EADkBI,EAAAf,MACLQ,KAAO,KATa,MAAAC,GAAAI,GAAA,EAAAC,EAAAL,EAAA,YAAAG,GAAA,MAAAI,EAAAN,QAAAM,EAAAN,SAAA,WAAAG,EAAA,MAAAC,GAWhD,IAAIG,EAAa,GAX+BC,GAAA,EAAAC,GAAA,EAAAC,OAAA5B,EAAA,IAYhD,QAAA6B,EAAAC,EAAc1E,EAAYgB,QAA1B+B,OAAAC,cAAAsB,GAAAG,EAAAC,EAAAzB,QAAAC,MAAAoB,GAAA,EAAmC,CAC/BD,EAAaA,EADkBI,EAAArB,MACHQ,KAAO,KAbS,MAAAC,GAAAU,GAAA,EAAAC,EAAAX,EAAA,YAAAS,GAAA,MAAAI,EAAAZ,QAAAY,EAAAZ,SAAA,WAAAS,EAAA,MAAAC,GAehD,IAAIG,EAAY,CAAEzD,QAAS,EAAGC,cAAe,IAC7CwD,EAAUzD,QAAU0D,WAAW5E,EAAYiB,OAAOC,SAClDyD,EAAUxD,cAAgBnB,EAAYiB,OAAOE,cAC7CW,EAAKU,SAAS,CACV3B,KAAMb,EACNc,UAAWwC,EACXvC,MAAOgD,EACP/C,QAASqD,EACTpD,OAAQ0D,MAhCT,MAAAd,GAAAnB,GAAA,EAAAC,EAAAkB,EAAA,YAAApB,GAAA,MAAAK,EAAAgB,QAAAhB,EAAAgB,SAAA,WAAApB,EAAA,MAAAC,uCA0CnB,OACIkC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQC,UAAU,UACdJ,EAAAC,EAAAC,cAACpF,EAAD,KACIkF,EAAAC,EAAAC,cAAA,OAAKE,UAAU,SACfJ,EAAAC,EAAAC,cAACG,EAAA,EAAD,CACIC,MAAM,OACNC,KAAK,aACLC,oBAAqB,CAAC,KACtBC,MAAO,CAAEC,WAAY,SAErBV,EAAAC,EAAAC,cAACG,EAAA,EAAKM,KAAN,CAAWC,IAAI,KAAIZ,EAAAC,EAAAC,cAAA,KAAGW,KAAI,MAAP,IAAkBb,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAMC,KAAK,SAA7B,6BACnBf,EAAAC,EAAAC,cAACG,EAAA,EAAKM,KAAN,CAAWC,IAAI,KAAIZ,EAAAC,EAAAC,cAAA,KAAGW,KAAI,cAAP,IAA0Bb,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAMC,KAAK,cAArC,qCAI3Bf,EAAAC,EAAAC,cAAClF,EAAD,CAASyF,MAAO,CAAEO,QAAS,WACvBhB,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAYR,MAAO,CAAES,OAAQ,WACzBlB,EAAAC,EAAAC,cAACe,EAAA,EAAWN,KAAZ,iBAGJX,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAEU,WAAY,OAAQH,QAAS,GAAII,UAAW,IAAIC,MAAO,WACjErB,EAAAC,EAAAC,cAAA,UAAKvE,KAAKI,MAAMC,KAAKsF,OACrBtB,EAAAC,EAAAC,cAACqB,EAAA,EAAD,CACId,MAAO,CAAEe,MAAO,KAChBC,MAAOzB,EAAAC,EAAAC,cAAA,OAAKwB,IAAI,UAAUC,IAAKhG,KAAKI,MAAMC,KAAK4F,WAGnD5B,EAAAC,EAAAC,cAAA,+BAAQvE,KAAKI,MAAME,WACnB+D,EAAAC,EAAAC,cAAA,+BAAQvE,KAAKI,MAAMG,OACnB8D,EAAAC,EAAAC,cAAA,+BAAQvE,KAAKI,MAAMK,OAAOC,QAA1B,4BAAwCV,KAAKI,MAAMK,OAAOE,cAA1D,WACA0D,EAAAC,EAAAC,cAAC2B,EAAA,EAAD,CAAMC,UAAQ,EAACvD,MAAO5C,KAAKI,MAAMK,OAAOC,QAAQ,EAAG0F,WAAS,IAC5D/B,EAAAC,EAAAC,cAAA,2CAAUvE,KAAKI,MAAMC,KAAKgG,SAC1BhC,EAAAC,EAAAC,cAAA,+BAAQvE,KAAKI,MAAMC,KAAKiG,SAAxB,gBACAjC,EAAAC,EAAAC,cAAA,+BAAQvE,KAAKI,MAAMI,SACnB6D,EAAAC,EAAAC,cAAA,+BAAQvE,KAAKI,MAAMC,KAAKkG,WAExBlC,EAAAC,EAAAC,cAAA,0CAASvE,KAAKI,MAAMC,KAAKmG,WAKjCnC,EAAAC,EAAAC,cAACjF,EAAD,CAAQwF,MAAO,CAAE2B,UAAW,WAA5B,iHAjHKC,sBCHbvH,EAA2BC,IAA3BD,OAAQE,EAAmBD,IAAnBC,QAASC,EAAUF,IAAVE,OAErBC,EAAU,GAERiC,GADU9B,IAAKC,QACL,kCAmNDgH,cAhNX,SAAAA,EAAY/G,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA2G,IACf9G,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA6G,GAAAxG,KAAAH,KAAMJ,KACDQ,MAAQ,CACTC,KAAM,GACNuG,aAAc,GACdC,cAAc,GACdC,eAAe,IANJjH,4EAUf,QAAAe,EAAA,EAAAC,EAAetB,EAAfqB,EAAAC,EAAAC,OAAAF,IAAwB,CAApB,IAAIG,EAAGF,EAAAD,GAEP,IAAI,IAAII,KAASD,EACb,IACIA,EAAIC,GAASG,KAAKC,MAAML,EAAIC,IAC9B,MAAMK,mDAQC,IAAAC,EAAAtB,KACjBuB,MAAMC,EAAQ,kBACTI,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAE,GAEFvC,EAAUuC,EAEVR,EAAKS,aACLT,EAAKU,SAAS,CACV3B,KAAMd,EACNqH,aAAatF,EAAKyF,aAAaxH,OAG3CgC,MAAMC,EAAQ,oBACTI,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAE,GACFb,QAAQC,IAAIY,GACZvC,EAAUuC,EAEVR,EAAKS,aACLT,EAAKU,SAAS,CACV3B,KAAMd,EACNsH,cAAcvF,EAAK0F,eAAezH,OAG9CgC,MAAMC,EAAQ,qBACTI,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAE,GACFb,QAAQC,IAAIY,GACZvC,EAAUuC,EAEVR,EAAKS,aACLT,EAAKU,SAAS,CACV3B,KAAMd,EACNuH,eAAexF,EAAK2F,gBAAgB1H,4CAIvCA,GACT,IAAI2H,EAAS,CAAC,CAACC,MAAM,eAAKC,YAAY,IADpBnF,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAElB,QAAAC,EAAAC,EAAoB/C,EAApBgD,OAAAC,cAAAP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,EAA6B,KAArBoF,EAAqBhF,EAAAO,MACrB0E,GAAU,EADWvE,GAAA,EAAAC,GAAA,EAAAC,OAAAb,EAAA,IAEzB,QAAAc,EAAAC,EAAmBkE,EAASE,OAA5BhF,OAAAC,cAAAO,GAAAG,EAAAC,EAAAV,QAAAC,MAAAK,GAAA,EAAoC,CAChC,IADgC,IAA5ByE,EAA4BtE,EAAAN,MAChC6E,EAAA,EAAAC,EAAoBR,EAApBO,EAAAC,EAAA5G,OAAA2G,IAA8B,CAAzB,IAAIE,EAAOD,EAAAD,GACRE,EAAQR,QAAUK,IAClBG,EAAQP,cACRE,GAAU,GAGdA,GACAJ,EAASU,KAAK,CAACT,MAAMK,EAAQJ,YAAY,KAVxB,MAAA/D,GAAAL,GAAA,EAAAC,EAAAI,EAAA,YAAAN,GAAA,MAAAI,EAAAG,QAAAH,EAAAG,SAAA,WAAAN,EAAA,MAAAC,KAFX,MAAAI,GAAAnB,GAAA,EAAAC,EAAAkB,EAAA,YAAApB,GAAA,MAAAK,EAAAgB,QAAAhB,EAAAgB,SAAA,WAAApB,EAAA,MAAAC,GAgBlB,OAAO+E,yCAEI3H,GACX,IAAI2H,EAAS,CAAC,CAACW,QAAQ,eAAKT,YAAY,IADrB5D,GAAA,EAAAC,GAAA,EAAAC,OAAAtB,EAAA,IAEnB,QAAAuB,EAAAC,EAAoBrE,EAApBgD,OAAAC,cAAAgB,GAAAG,EAAAC,EAAAnB,QAAAC,MAAAc,GAAA,EAA6B,KAArB6D,EAAqB1D,EAAAf,MACrB0E,GAAU,EADWxD,GAAA,EAAAC,GAAA,EAAAC,OAAA5B,EAAA,IAEzB,QAAA6B,EAAAC,EAAgBmD,EAASS,UAAzBvF,OAAAC,cAAAsB,GAAAG,EAAAC,EAAAzB,QAAAC,MAAAoB,GAAA,EAAoC,CAChC,IADgC,IAA5BiE,EAA4B9D,EAAArB,MAChCoF,EAAA,EAAAC,EAAoBf,EAApBc,EAAAC,EAAAnH,OAAAkH,IAA8B,CAAzB,IAAIL,EAAOM,EAAAD,GACRL,EAAQE,UAAYE,IACpBJ,EAAQP,cACRE,GAAU,GAGdA,GACAJ,EAASU,KAAK,CAACC,QAAQE,EAAKX,YAAY,KAVvB,MAAA/D,GAAAU,GAAA,EAAAC,EAAAX,EAAA,YAAAS,GAAA,MAAAI,EAAAZ,QAAAY,EAAAZ,SAAA,WAAAS,EAAA,MAAAC,KAFV,MAAAX,GAAAI,GAAA,EAAAC,EAAAL,EAAA,YAAAG,GAAA,MAAAI,EAAAN,QAAAM,EAAAN,SAAA,WAAAG,EAAA,MAAAC,GAgBnB,OAAOwD,0CAEK3H,GACZ,IAAI2H,EAAS,CAAC,CAACgB,SAAS,eAAKd,YAAY,IADrBe,GAAA,EAAAC,GAAA,EAAAC,OAAAjG,EAAA,IAEpB,QAAAkG,EAAAC,EAAoBhJ,EAApBgD,OAAAC,cAAA2F,GAAAG,EAAAC,EAAA9F,QAAAC,MAAAyF,GAAA,EAA6B,KAArBd,EAAqBiB,EAAA1F,MACrB0E,GAAU,EADWkB,GAAA,EAAAC,GAAA,EAAAC,OAAAtG,EAAA,IAEzB,QAAAuG,EAAAC,EAAgBvB,EAASd,UAAzBhE,OAAAC,cAAAgG,GAAAG,EAAAC,EAAAnG,QAAAC,MAAA8F,GAAA,EAAoC,CAChC,IADgC,IAA5BT,EAA4BY,EAAA/F,MAChCiG,EAAA,EAAAC,EAAoB5B,EAApB2B,EAAAC,EAAAhI,OAAA+H,IAA8B,CAAzB,IAAIlB,EAAOmB,EAAAD,GACRlB,EAAQO,WAAaH,IACrBJ,EAAQP,cACRE,GAAU,GAGdA,GACAJ,EAASU,KAAK,CAACM,SAASH,EAAKX,YAAY,KAVxB,MAAA/D,GAAAoF,GAAA,EAAAC,EAAArF,EAAA,YAAAmF,GAAA,MAAAI,EAAAtF,QAAAsF,EAAAtF,SAAA,WAAAmF,EAAA,MAAAC,KAFT,MAAArF,GAAA+E,GAAA,EAAAC,EAAAhF,EAAA,YAAA8E,GAAA,MAAAI,EAAAjF,QAAAiF,EAAAjF,SAAA,WAAA8E,EAAA,MAAAC,GAiBpB,OAAOnB,mCAIP,IAeM6B,EAAQ,CACVC,OAAQ,GACRC,UAAW,CACPxC,UAAW,SACXyC,KAAM,UACNC,SAAU,KACVC,WAAY,OACZC,aAAc,QAKtB,OACIhF,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQC,UAAU,UACdJ,EAAAC,EAAAC,cAAC+E,EAAD,KACIjF,EAAAC,EAAAC,cAAA,OAAKE,UAAU,SACfJ,EAAAC,EAAAC,cAACG,EAAA,EAAD,CACIC,MAAM,OACNC,KAAK,aACLC,oBAAqB,CAAC,KACtBC,MAAO,CAAEC,WAAY,SAErBV,EAAAC,EAAAC,cAACG,EAAA,EAAKM,KAAN,CAAWC,IAAI,KAAIZ,EAAAC,EAAAC,cAAA,KAAGW,KAAI,MAAP,IAAkBb,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAMC,KAAK,SAA7B,6BACnBf,EAAAC,EAAAC,cAACG,EAAA,EAAKM,KAAN,CAAWC,IAAI,KAAIZ,EAAAC,EAAAC,cAAA,KAAGW,KAAI,cAAP,IAA0Bb,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAMC,KAAK,cAArC,qCAI3Bf,EAAAC,EAAAC,cAACgF,EAAD,CAASzE,MAAO,CAAEO,QAAS,WACvBhB,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAYR,MAAO,CAAES,OAAQ,WACzBlB,EAAAC,EAAAC,cAACe,EAAA,EAAWN,KAAZ,gBAGJX,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAEU,WAAY,OAAQH,QAAS,GAAII,UAAW,MACtDpB,EAAAC,EAAAC,cAACiF,EAAA,MAAD,CAAOC,OAAQ,IAAKpJ,KAAML,KAAKI,MAAMwG,aAAc8C,MAhDlD,CACbtC,YAAa,CACTuC,aAAc,MA8C8DC,UAAQ,GACxEvF,EAAAC,EAAAC,cAACiF,EAAA,KAAD,CAAMpG,KAAK,UACXiB,EAAAC,EAAAC,cAACiF,EAAA,KAAD,CAAMpG,KAAK,gBAEXiB,EAAAC,EAAAC,cAACiF,EAAA,QAAD,CACIK,WAAY,CACRzE,KAAM,OAGdf,EAAAC,EAAAC,cAACiF,EAAA,KAAD,CAAMpE,KAAK,WAAW0E,SAAS,oBAAoBC,MAAM,WAE7D1F,EAAAC,EAAAC,cAACiF,EAAA,MAAD,CAAOC,OAAQ,IAAKpJ,KAAML,KAAKI,MAAMyG,cAAe6C,MAtDhD,CAChBtC,YAAa,CACTuC,aAAc,MAoDkEC,UAAQ,GAC5EvF,EAAAC,EAAAC,cAACiF,EAAA,KAAD,CAAMpG,KAAK,UAAW2F,MAASA,IAC/B1E,EAAAC,EAAAC,cAACiF,EAAA,KAAD,CAAMpG,KAAK,gBAEXiB,EAAAC,EAAAC,cAACiF,EAAA,QAAD,CACIK,WAAY,CACRzE,KAAM,OAGdf,EAAAC,EAAAC,cAACiF,EAAA,KAAD,CAAMpE,KAAK,WAAW0E,SAAS,sBAAsBC,MAAM,aAE/D1F,EAAAC,EAAAC,cAACiF,EAAA,MAAD,CAAOC,OAAQ,IAAKpJ,KAAML,KAAKI,MAAM0G,eAAgB4C,MA5DhD,CACjBtC,YAAa,CACTuC,aAAc,MA0DoEC,UAAQ,GAC9EvF,EAAAC,EAAAC,cAACiF,EAAA,KAAD,CAAMpG,KAAK,WAAW2F,MAASA,IAC/B1E,EAAAC,EAAAC,cAACiF,EAAA,KAAD,CAAMpG,KAAK,gBAEXiB,EAAAC,EAAAC,cAACiF,EAAA,QAAD,CACIK,WAAY,CACRzE,KAAM,OAGdf,EAAAC,EAAAC,cAACiF,EAAA,KAAD,CAAMpE,KAAK,WAAW0E,SAAS,uBAAuBC,MAAM,gBAKxE1F,EAAAC,EAAAC,cAACyF,EAAD,CAAQlF,MAAO,CAAE2B,UAAW,WAA5B,iHA3MKC,aCJfuD,EAASC,IAAMD,OACjB1K,EAAU,GACNJ,EAA2BC,IAA3BD,OAAQE,EAAmBD,IAAnBC,QAASC,EAAUF,IAAVE,OACnB6K,EAASC,IAAOD,OAClBE,EAAY,QACV1K,EAAUD,IAAKC,QACf6B,EAAU,iCAEV8I,EAAW,SAAAC,GAAA,IAAGnF,EAAHmF,EAAGnF,KAAMoF,EAATD,EAASC,KAAT,OACbnG,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAMC,KAAMA,EAAMN,MAAO,CAAE2F,YAAa,KACnCD,IAIHE,cAEF,SAAAA,EAAY9K,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA0K,IACf7K,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA4K,GAAAvK,KAAAH,KAAMJ,KACDQ,MAAQ,CACTC,KAAM,GACNsK,QAAQ,IACRC,OAAO,EACPzD,MAAM,GACNxB,MAAM,GACNkF,IAAI,GACJC,YAAY,IATDjL,oFAafG,KAAK+K,UAAU,qCAGTC,GAAM,IAAA1J,EAAAtB,KACZuB,MAAMC,EAAQ,cAAcwJ,GACvBpJ,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAE,GACFb,QAAQC,IAAIY,GACZvC,EAAUuC,EACVb,QAAQC,IAAI3B,GACZ+B,EAAKS,aACLT,EAAKU,SAAS,CACV3B,KAAMd,2CAIT,IAAA0C,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IACT,QAAAC,EAAAC,EAAe/C,EAAfgD,OAAAC,cAAAP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,EAAwB,KAAhBlB,EAAgBsB,EAAAO,MAEpB,IAAI,IAAI5B,KADRC,QAAQC,IAAIH,GACKA,EACb,IACIA,EAAIC,GAASG,KAAKC,MAAML,EAAIC,IAC9B,MAAMK,MANP,MAAAgC,GAAAnB,GAAA,EAAAC,EAAAkB,EAAA,YAAApB,GAAA,MAAAK,EAAAgB,QAAAhB,EAAAgB,SAAA,WAAApB,EAAA,MAAAC,wCAcDS,GAAO,IAAAqI,EAAAjL,KACfuB,MAAMC,EAAQ,cAAcoB,GACvBhB,KAAK,SAAAC,GAAG,OAAIA,EAAI2I,SAChB5I,KAAK,SAAA4I,GACFvJ,QAAQC,IAAIsJ,GACZS,EAAKjJ,SAAS,CACV2I,QAASH,EACT7E,MAAM/C,MAGlB5C,KAAKkL,eAAetI,EAAM,0CAEf+C,EAAMqF,GAAM,IAAAG,EAAAnL,KACvBuB,MAAMC,EAAQ,cAAcmE,EAAM,IAAIqF,GACjCpJ,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAE,GACFvC,EAAUuC,EACVqJ,EAAKpJ,aACLoJ,EAAKnJ,SAAS,CACV3B,KAAMd,0CAIVqD,GAAO,IAAAwI,EAAApL,KACfuB,MAAMC,EAAQ,cAAcoB,GACvBhB,KAAK,SAAAC,GAAG,OAAIA,EAAI2I,SAChB5I,KAAK,SAAA4I,GACFvJ,QAAQC,IAAIsJ,GACZY,EAAKpJ,SAAS,CACV2I,QAASH,EACTrD,MAAMvE,MAIlB5C,KAAKqL,eAAezI,EAAM,0CAEfuE,EAAM6D,GAAM,IAAAM,EAAAtL,KACvBuB,MAAMC,EAAQ,cAAc2F,EAAM,IAAI6D,GACjCpJ,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAE,GACFvC,EAAUuC,EACVwJ,EAAKvJ,aACLuJ,EAAKtJ,SAAS,CACV3B,KAAMd,IAEV0B,QAAQC,IAAI,2BAAOoK,EAAKlL,MAAM0K,YAAYQ,EAAKlL,MAAM+G,2CAGvDvE,GAAO,IAAA2I,EAAAvL,KACbuB,MAAMC,EAAQ,YAAYoB,GACrBhB,KAAK,SAAAC,GAAG,OAAIA,EAAI2I,SAChB5I,KAAK,SAAA4I,GACFvJ,QAAQC,IAAIsJ,GACZe,EAAKvJ,SAAS,CACV2I,QAASH,EACTK,IAAIjI,MAIhB5C,KAAKwL,aAAa5I,EAAM,wCAEfiI,EAAIG,GAAM,IAAAS,EAAAzL,KACnBuB,MAAMC,EAAQ,YAAYqJ,EAAI,IAAIG,GAC7BpJ,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAE,GACFvC,EAAUuC,EACV2J,EAAK1J,aACL0J,EAAKzJ,SAAS,CACV3B,KAAMd,IAEV0B,QAAQC,IAAI,2BAAOuK,EAAKrL,MAAM0K,YAAYW,EAAKrL,MAAM+G,0CAKxD,IAAAuE,EAAA1L,KAEC2L,EACFtH,EAAAC,EAAAC,cAACqH,EAAA,EAAD,CAAQC,aAAa,qBAAM/G,MAAO,CAAEe,MAAO,IAAMiG,SAAU,SAAAlJ,GACvDyH,EAAYzH,IAGZyB,EAAAC,EAAAC,cAAC4F,EAAD,CAAQvH,MAAM,SAAd,sBACAyB,EAAAC,EAAAC,cAAC4F,EAAD,CAAQvH,MAAM,SAAd,sBACAyB,EAAAC,EAAAC,cAAC4F,EAAD,CAAQvH,MAAM,OAAd,6BAGR,OACIyB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQC,UAAU,UACdJ,EAAAC,EAAAC,cAACwH,EAAD,KACI1H,EAAAC,EAAAC,cAAA,OAAKE,UAAU,SACfJ,EAAAC,EAAAC,cAACG,EAAA,EAAD,CACIC,MAAM,OACNC,KAAK,aACLC,oBAAqB,CAAC,KACtBC,MAAO,CAAEC,WAAY,SAErBV,EAAAC,EAAAC,cAACG,EAAA,EAAKM,KAAN,CAAWC,IAAI,KAAIZ,EAAAC,EAAAC,cAAA,KAAGW,KAAI,MAAP,IAAkBb,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAMC,KAAK,SAA7B,6BACnBf,EAAAC,EAAAC,cAACG,EAAA,EAAKM,KAAN,CAAWC,IAAI,KAAIZ,EAAAC,EAAAC,cAAA,KAAGW,KAAI,cAAP,IAA0Bb,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAMC,KAAK,cAArC,mCACnBf,EAAAC,EAAAC,cAACyH,EAAD,CACI/G,IAAI,OACJU,MAAOtB,EAAAC,EAAAC,cAAA,YAAMF,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAMC,KAAK,gBAAgBf,EAAAC,EAAAC,cAAA,+CACxC0H,QAAS,SAAChH,GACNhE,QAAQC,IAAI+D,EAAIA,KAChByG,EAAK1J,SAAS,CACV8I,YAAc,UAElBY,EAAKQ,YAAYjH,EAAIA,OAGzBZ,EAAAC,EAAAC,cAACG,EAAA,EAAKM,KAAN,CAAWC,IAAI,gBAAf,gBACAZ,EAAAC,EAAAC,cAACG,EAAA,EAAKM,KAAN,CAAWC,IAAI,gBAAf,gBACAZ,EAAAC,EAAAC,cAACG,EAAA,EAAKM,KAAN,CAAWC,IAAI,gBAAf,gBACAZ,EAAAC,EAAAC,cAACG,EAAA,EAAKM,KAAN,CAAWC,IAAI,gBAAf,gBACAZ,EAAAC,EAAAC,cAACG,EAAA,EAAKM,KAAN,CAAWC,IAAI,gBAAf,gBACAZ,EAAAC,EAAAC,cAACG,EAAA,EAAKM,KAAN,CAAWC,IAAI,gBAAf,gBACAZ,EAAAC,EAAAC,cAACG,EAAA,EAAKM,KAAN,CAAWC,IAAI,gBAAf,gBACAZ,EAAAC,EAAAC,cAACG,EAAA,EAAKM,KAAN,CAAWC,IAAI,gBAAf,gBACAZ,EAAAC,EAAAC,cAACG,EAAA,EAAKM,KAAN,CAAWC,IAAI,gBAAf,mBAKZZ,EAAAC,EAAAC,cAAC4H,EAAD,CAASrH,MAAO,CAAEO,QAAS,WACvBhB,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAYR,MAAO,CAAES,OAAQ,WACzBlB,EAAAC,EAAAC,cAACe,EAAA,EAAWN,KAAZ,cAEJX,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAEU,WAAY,OAAQH,QAAS,GAAII,UAAW,MACtDpB,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAAC0F,EAAD,CACImC,YAAaT,EACbU,YAAY,oBACZC,YAAY,SACZC,KAAK,QACLC,SAAU,SAAC5J,GACP8I,EAAK1J,SAAS,CACV8I,YAAcT,IAEF,UAAbA,EACCqB,EAAKe,YAAY7J,GACG,UAAdyH,EACNqB,EAAKQ,YAAYtJ,GACG,QAAdyH,GACNqB,EAAKgB,UAAU9J,MAI3ByB,EAAAC,EAAAC,cAACoI,EAAA,EAAD,CACIC,WAAW,WACXL,KAAK,QACLM,WAAY,CACRf,SAAU,SAACd,GACuB,KAA3BU,EAAKtL,MAAM0K,YACVY,EAAKX,UAAUC,GACkB,UAA3BU,EAAKtL,MAAM0K,YACjBY,EAAKL,eAAeK,EAAKtL,MAAM+G,MAAO6D,GACL,UAA3BU,EAAKtL,MAAM0K,aACjBY,EAAKR,eAAeQ,EAAKtL,MAAMuF,MAAOqF,GAE1CU,EAAK1J,SAAS,CACV4I,OAASI,IAEb/J,QAAQC,IAAI8J,IAEhB8B,SAAU,GACVC,MAAQ/M,KAAKI,MAAMuK,SAEvBqC,WAAYhN,KAAKI,MAAMC,KACvB4M,OAAQ5I,EAAAC,EAAAC,cAAA,eAAQF,EAAAC,EAAAC,cAAA,kBAAR,SACR2I,WACI,SAAAC,GAAI,OACA9I,EAAAC,EAAAC,cAACoI,EAAA,EAAK3H,KAAN,CACIC,IAAKkI,EAAKxH,MACVyH,QAAS,CAAC/I,EAAAC,EAAAC,cAAC2B,EAAA,EAAD,CAAMC,UAAQ,EAAC0F,aAAczH,WAAW+I,EAAK1M,OAAOC,SAAS,EACvD0F,WAAS,EAACiH,SAAU,CAACF,EAAK1M,OAAOC,QAAQyM,EAAK1M,OAAOC,QAAQyM,EAAK1M,OAAOC,QAAQyM,EAAK1M,OAAOC,QAAQyM,EAAK1M,OAAOC,WAC7H2D,EAAAC,EAAAC,cAAC+I,EAAD,CAAUlI,KAAK,OAAOoF,KAAM2C,EAAK1M,OAAOC,QAAQ,WAChD2D,EAAAC,EAAAC,cAAC+I,EAAD,CAAUlI,KAAK,OAAOoF,KAAM2C,EAAK1M,OAAOE,iBAC5C4M,MAAOlJ,EAAAC,EAAAC,cAAA,OAAKsB,MAAO,IAAKE,IAAI,OAAOC,IAAMmH,EAAKlH,UAE9C5B,EAAAC,EAAAC,cAACoI,EAAA,EAAK3H,KAAKwI,KAAX,CAEI7H,MAAOtB,EAAAC,EAAAC,cAAA,KAAGW,KAAI,cAAAuI,OAAgBN,EAAKtK,MAA5B,KAAwCsK,EAAKxH,OACpD+H,YAAaP,EAAKQ,QAAQ,IAAIR,EAAK5F,OAAO,YAOtElD,EAAAC,EAAAC,cAACqJ,EAAD,CAAQ9I,MAAO,CAAE2B,UAAW,WAA5B,iHA1OIC,aA+PLmH,mLARP,OACIxJ,EAAAC,EAAAC,cAACuJ,EAAA,EAAD,KACIzJ,EAAAC,EAAAC,cAACwJ,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWxD,IACjCrG,EAAAC,EAAAC,cAACwJ,EAAA,EAAD,CAAOE,KAAO,cAAcC,UAAWzO,IACvC4E,EAAAC,EAAAC,cAACwJ,EAAA,EAAD,CAAOE,KAAO,UAAUC,UAAWvH,YANzBD,2BCvQ1ByH,EAASC,OACL/J,EAAAC,EAAAC,cAAC8J,EAAD,MACDC,SAASC,eAAe","file":"static/js/main.0e193ef6.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport {Rate, Layout, Menu, Breadcrumb, Card, Icon} from 'antd';\r\nconst { Header, Content, Footer} = Layout;\r\nvar addjson = [];\r\nvar currentjson = {};\r\nconst webBase = 'https://www.mooooon333.cn:5000';\r\n//const webBase = '';\r\nconst SubMenu = Menu.SubMenu;\r\nclass Detail extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: {},\r\n            directors: \"\",\r\n            casts: \"\",\r\n            writers: \"\",\r\n            rating: { average:1 , rating_people: \"\" },\r\n        }\r\n    }\r\n    handleJson() {\r\n        for(let tmp of addjson) {\r\n            console.log(tmp);\r\n            for(let tmpIn in tmp) {\r\n                try {\r\n                    tmp[tmpIn] = JSON.parse(tmp[tmpIn]);\r\n                } catch(e) {\r\n                    console.log(\"出错\"+tmpIn+e);\r\n                }\r\n                //tmp[tmpIn] = tmp[tmpIn].substring(0,tmp[tmpIn].length);\r\n                console.log(tmp[tmpIn]);\r\n            }\r\n        }\r\n    }\r\n    componentDidMount() {\r\n\r\n\r\n        fetch(webBase+'/api/id/'+this.props.match.params.id)\r\n            .then(res => res.json())\r\n            .then(json =>  {\r\n                console.log(json)\r\n                addjson = json;\r\n                console.log(addjson);\r\n                this.handleJson();\r\n                this.setState({\r\n                    data: addjson,\r\n                });\r\n                for (let currentItem of addjson) {\r\n                    if (currentItem._id === this.props.match.params.id) {\r\n                        currentjson = currentItem;\r\n                        console.log(currentjson);\r\n                        let tepdirect = \"\";\r\n                        for (let i of currentjson.directors) {\r\n                            tepdirect += i.name;\r\n                        }\r\n                        let tepcasts = \"\";\r\n                        for (let i of currentjson.casts) {\r\n                            tepcasts = tepcasts + i.name + \"/\";\r\n                        }\r\n                        let tepwriters = \"\";\r\n                        for (let i of currentjson.writers) {\r\n                            tepwriters = tepwriters + i.name + \"/\";\r\n                        }\r\n                        let teprating = { average: 5, rating_people: \"\" };\r\n                        teprating.average = parseFloat(currentjson.rating.average);\r\n                        teprating.rating_people = currentjson.rating.rating_people;\r\n                        this.setState({\r\n                            data: currentjson,\r\n                            directors: tepdirect,\r\n                            casts: tepcasts,\r\n                            writers: tepwriters,\r\n                            rating: teprating,\r\n                        });\r\n                    }\r\n                }\r\n\r\n            })\r\n\r\n    }\r\n    render() {\r\n\r\n        return (\r\n            <Layout className=\"layout\">\r\n                <Header>\r\n                    <div className=\"logo\" />\r\n                    <Menu\r\n                        theme=\"dark\"\r\n                        mode=\"horizontal\"\r\n                        defaultSelectedKeys={['1']}\r\n                        style={{ lineHeight: '64px' }}\r\n                    >\r\n                        <Menu.Item key=\"1\"><a href={`./`}  > <Icon type=\"bars\" />电影列表</a></Menu.Item>\r\n                        <Menu.Item key=\"2\"><a href={`./#/charts`}  > <Icon type=\"bar-chart\" />数据可视化</a></Menu.Item>\r\n\r\n                    </Menu>\r\n                </Header>\r\n                <Content style={{ padding: '0 50px' }}>\r\n                    <Breadcrumb style={{ margin: '16px 0' }}>\r\n                        <Breadcrumb.Item>details</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    <div style={{ background: '#fff', padding: 24, minHeight: 280,Align: 'center' }}>\r\n                        <h1>{this.state.data.title}</h1>\r\n                        <Card\r\n                            style={{ width: 300 }}\r\n                            cover={<img alt=\"example\" src={this.state.data.poster} />}\r\n                        >\r\n                        </Card>\r\n                        <h2>导演：{this.state.directors}</h2>\r\n                        <h2>主演：{this.state.casts}</h2>\r\n                        <h3>评分：{this.state.rating.average}(评分人数{this.state.rating.rating_people}人)</h3>\r\n                        <Rate disabled value={this.state.rating.average/2} allowHalf />\r\n                        <h3>上映日期：{this.state.data.pubdata}</h3>\r\n                        <h3>时长：{this.state.data.duration}分钟</h3>\r\n                        <h4>原著：{this.state.writers}</h4>\r\n                        <h4>语言：{this.state.data.languages}</h4>\r\n\r\n                        <p>剧情梗概：{this.state.data.summary}</p>\r\n\r\n                    </div>\r\n                </Content>\r\n\r\n                <Footer style={{ textAlign: 'center' }}>\r\n                    同济大学软件学院Web课lab03 ©2018 Created by 白皓月\r\n                </Footer>\r\n            </Layout>\r\n\r\n\r\n        )\r\n    }\r\n}\r\nexport default Detail","\r\n\r\nimport React, { Component } from 'react';\r\nimport {G2, Chart, Geom, Axis, Tooltip} from \"bizcharts\";\r\nimport { Layout, Menu, Breadcrumb,  Icon} from 'antd';\r\nconst { Header, Content, Footer} = Layout;\r\n// 数据源\r\nvar addjson = [];\r\nconst SubMenu = Menu.SubMenu;\r\nconst webBase = 'https://www.mooooon333.cn:5000';\r\n//const webBase = '';\r\nclass Charts extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: [],\r\n            genresNumber: [],\r\n            countryNumber:[],\r\n            languageNumber:[],\r\n        }\r\n    }\r\n    handleJson() {\r\n        for(let tmp of addjson) {\r\n            //console.log(tmp);\r\n            for(let tmpIn in tmp) {\r\n                try {\r\n                    tmp[tmpIn] = JSON.parse(tmp[tmpIn]);\r\n                } catch(e) {\r\n                    //console.log(\"出错\"+tmpIn+e);\r\n                }\r\n                //tmp[tmpIn] = tmp[tmpIn].substring(0,tmp[tmpIn].length);\r\n                //console.log(tmp[tmpIn]);\r\n            }\r\n        }\r\n    }\r\n    componentWillMount() {\r\n        fetch(webBase+\"/api/genre/all\")\r\n            .then(res => res.json())\r\n            .then(json => {\r\n                //console.log(json);\r\n                addjson = json;\r\n                //console.log(addjson);\r\n                this.handleJson();\r\n                this.setState({\r\n                    data: addjson,\r\n                    genresNumber:this.genreAnalyze(addjson),\r\n                });\r\n            });\r\n        fetch(webBase+\"/api/country/all\")\r\n            .then(res => res.json())\r\n            .then(json => {\r\n                console.log(json);\r\n                addjson = json;\r\n                //console.log(addjson);\r\n                this.handleJson();\r\n                this.setState({\r\n                    data: addjson,\r\n                    countryNumber:this.countryAnalyze(addjson),\r\n                });\r\n            });\r\n        fetch(webBase+\"/api/language/all\")\r\n            .then(res => res.json())\r\n            .then(json => {\r\n                console.log(json);\r\n                addjson = json;\r\n                //console.log(addjson);\r\n                this.handleJson();\r\n                this.setState({\r\n                    data: addjson,\r\n                    languageNumber:this.languageAnalyze(addjson),\r\n                });\r\n            });\r\n    }\r\n    genreAnalyze(addjson) {\r\n        let analysis=[{genre:\"剧情\",movieNumber:0}];\r\n        for(let eachitem of addjson) {\r\n            let isexist = false;\r\n            for(let eachgen of eachitem.genres) {\r\n                for (let eachana of analysis) {\r\n                    if (eachana.genre === eachgen) {\r\n                        eachana.movieNumber++;\r\n                        isexist = true;\r\n                    }\r\n                }\r\n                if(!isexist){\r\n                    analysis.push({genre:eachgen,movieNumber:1})\r\n                }\r\n            }\r\n        }\r\n        return analysis;\r\n    }\r\n    countryAnalyze(addjson){\r\n        let analysis=[{country:\"美国\",movieNumber:0}];\r\n        for(let eachitem of addjson) {\r\n            let isexist = false;\r\n            for(let each of eachitem.countries) {\r\n                for (let eachana of analysis) {\r\n                    if (eachana.country === each) {\r\n                        eachana.movieNumber++;\r\n                        isexist = true;\r\n                    }\r\n                }\r\n                if(!isexist){\r\n                    analysis.push({country:each,movieNumber:1})\r\n                }\r\n            }\r\n        }\r\n        return analysis;\r\n    }\r\n    languageAnalyze(addjson){\r\n        let analysis=[{language:\"英语\",movieNumber:0}];\r\n        for(let eachitem of addjson) {\r\n            let isexist = false;\r\n            for(let each of eachitem.languages) {\r\n                for (let eachana of analysis) {\r\n                    if (eachana.language === each) {\r\n                        eachana.movieNumber++;\r\n                        isexist = true;\r\n                    }\r\n                }\r\n                if(!isexist){\r\n                    analysis.push({language:each,movieNumber:1})\r\n                }\r\n            }\r\n        }\r\n\r\n        return analysis;\r\n    }\r\n\r\n    render() {\r\n        const gerecols = {\r\n            movieNumber: {\r\n                tickInterval: 200\r\n            }\r\n        };\r\n        const countrycols = {\r\n            movieNumber: {\r\n                tickInterval: 200\r\n            }\r\n        };\r\n        const languagecols = {\r\n            movieNumber: {\r\n                tickInterval: 200\r\n            }\r\n        };\r\n        const label = {\r\n            rotate: 70,\r\n            textStyle: {\r\n                textAlign: 'center', // 文本对齐方向，可取值为： start center end\r\n                fill: '#404040', // 文本的颜色\r\n                fontSize: '10', // 文本大小\r\n                fontWeight: 'bold', // 文本粗细\r\n                textBaseline: 'top' // 文本基准线，可取 top middle bottom，默认为middle\r\n\r\n            }\r\n        }\r\n\r\n        return (\r\n            <Layout className=\"layout\">\r\n                <Header>\r\n                    <div className=\"logo\" />\r\n                    <Menu\r\n                        theme=\"dark\"\r\n                        mode=\"horizontal\"\r\n                        defaultSelectedKeys={['2']}\r\n                        style={{ lineHeight: '64px' }}\r\n                    >\r\n                        <Menu.Item key=\"1\"><a href={`./`}  > <Icon type=\"bars\" />电影列表</a></Menu.Item>\r\n                        <Menu.Item key=\"2\"><a href={`./#/charts`}  > <Icon type=\"bar-chart\" />数据可视化</a></Menu.Item>\r\n\r\n                    </Menu>\r\n                </Header>\r\n                <Content style={{ padding: '0 50px' }}>\r\n                    <Breadcrumb style={{ margin: '16px 0' }}>\r\n                        <Breadcrumb.Item>charts</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    <div style={{ background: '#fff', padding: 24, minHeight: 280 }}>\r\n                        <Chart height={400} data={this.state.genresNumber} scale={gerecols} forceFit>\r\n                            <Axis name=\"genre\" />\r\n                            <Axis name=\"movieNumber\" />\r\n\r\n                            <Tooltip\r\n                                crosshairs={{\r\n                                    type: \"y\"\r\n                                }}\r\n                            />\r\n                            <Geom type=\"interval\" position=\"genre*movieNumber\" color=\"genre\" />\r\n                        </Chart>\r\n                        <Chart height={400} data={this.state.countryNumber} scale={countrycols} forceFit>\r\n                            <Axis name=\"country\"  label = {label}/>\r\n                            <Axis name=\"movieNumber\" />\r\n\r\n                            <Tooltip\r\n                                crosshairs={{\r\n                                    type: \"y\"\r\n                                }}\r\n                            />\r\n                            <Geom type=\"interval\" position=\"country*movieNumber\" color=\"country\" />\r\n                        </Chart>\r\n                        <Chart height={400} data={this.state.languageNumber} scale={languagecols} forceFit>\r\n                            <Axis name=\"language\" label = {label}/>\r\n                            <Axis name=\"movieNumber\" />\r\n\r\n                            <Tooltip\r\n                                crosshairs={{\r\n                                    type: \"y\"\r\n                                }}\r\n                            />\r\n                            <Geom type=\"interval\" position=\"language*movieNumber\" color=\"language\" />\r\n                        </Chart>\r\n                    </div>\r\n                </Content>\r\n\r\n                <Footer style={{ textAlign: 'center' }}>\r\n                    同济大学软件学院Web课lab03 ©2018 Created by 白皓月\r\n                </Footer>\r\n            </Layout>)\r\n    }\r\n}\r\nexport default Charts\r\n\r\n\r\n","import React, { Component } from 'react';\nimport 'antd/dist/antd.css';\nimport { List,Icon ,Input,Rate,Layout,Menu, Breadcrumb ,Select} from 'antd';\nimport './App.css';\nimport { HashRouter as Router, Route } from 'react-router-dom';\nimport Detail from './detail'\nimport Charts from './charts'\nconst Search = Input.Search;\nvar addjson = [];\nconst { Header, Content, Footer} = Layout;\nconst Option = Select.Option;\nvar howsearch = \"title\";\nconst SubMenu = Menu.SubMenu;\nconst webBase = 'https://www.mooooon333.cn:5000';\n//const webBase = '';\nconst IconText = ({ type, text }) => (\n    <span>\n    <Icon type={type} style={{ marginRight: 8 }} />\n        {text}\n  </span>\n);\n\nclass Index extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: [],\n            pageNum:10000,\n            pageId:1,\n            genre:\"\",\n            title:\"\",\n            all:\"\",\n            listContent:\"\",\n        }\n    }\n    componentWillMount() {\n        this.fetchData(1)\n    }\n\n    fetchData(page) {\n        fetch(webBase+'/api/films/'+page)\n            .then(res => res.json())\n            .then(json =>  {\n                console.log(json);\n                addjson = json;\n                console.log(addjson);\n                this.handleJson();\n                this.setState({\n                    data: addjson,\n                });\n            });\n    }\n    handleJson() {\n        for(let tmp of addjson) {\n            console.log(tmp);\n            for(let tmpIn in tmp) {\n                try {\n                    tmp[tmpIn] = JSON.parse(tmp[tmpIn]);\n                } catch(e) {\n                    //console.log(\"出错\"+tmpIn+e);\n                }\n                //tmp[tmpIn] = tmp[tmpIn].substring(0,tmp[tmpIn].length);\n                //console.log(tmp[tmpIn]);\n            }\n        }\n    }\n    searchTitle(value) {\n        fetch(webBase+'/api/title/'+value)\n            .then(res => res.text())\n            .then(text=>  {\n                console.log(text);\n                this.setState({\n                    pageNum: text,\n                    title:value,\n                });\n            });\n        this.fetchTitleData(value,1);\n    }\n    fetchTitleData(title,page) {\n        fetch(webBase+'/api/title/'+title+'/'+page)\n            .then(res => res.json())\n            .then(json =>  {\n                addjson = json;\n                this.handleJson();\n                this.setState({\n                    data: addjson,\n                });\n            });\n    }\n    searchGenre(value) {\n        fetch(webBase+'/api/genre/'+value)\n            .then(res => res.text())\n            .then(text=>  {\n                console.log(text);\n                this.setState({\n                    pageNum: text,\n                    genre:value,\n                });\n            });\n\n        this.fetchGenreData(value,1);\n    }\n    fetchGenreData(genre,page) {\n        fetch(webBase+'/api/genre/'+genre+'/'+page)\n            .then(res => res.json())\n            .then(json =>  {\n                addjson = json;\n                this.handleJson();\n                this.setState({\n                    data: addjson,\n                });\n                console.log(\"页调试：\"+this.state.listContent,this.state.genre);\n            });\n    }\n    searchAll(value) {\n        fetch(webBase+'/api/all/'+value)\n            .then(res => res.text())\n            .then(text=>  {\n                console.log(text);\n                this.setState({\n                    pageNum: text,\n                    all:value,\n                });\n            });\n\n        this.fetchAllData(value,1);\n    }\n    fetchAllData(all,page) {\n        fetch(webBase+'/api/all/'+all+'/'+page)\n            .then(res => res.json())\n            .then(json =>  {\n                addjson = json;\n                this.handleJson();\n                this.setState({\n                    data: addjson,\n                });\n                console.log(\"页调试：\"+this.state.listContent,this.state.genre);\n            });\n    }\n\n\n    render() {\n\n        const selectBefore = (\n            <Select defaultValue=\"按标题\" style={{ width: 90 }} onChange={value => {\n                howsearch = value;\n            }}>\n\n                <Option value=\"title\">按标题</Option>\n                <Option value=\"genre\">按类别</Option>\n                <Option value=\"all\">全文搜索</Option>\n            </Select>\n        );\n        return (\n            <Layout className=\"layout\">\n                <Header>\n                    <div className=\"logo\" />\n                    <Menu\n                        theme=\"dark\"\n                        mode=\"horizontal\"\n                        defaultSelectedKeys={['1']}\n                        style={{ lineHeight: '64px' }}\n                    >\n                        <Menu.Item key=\"1\"><a href={`./`}  > <Icon type=\"bars\" />电影列表</a></Menu.Item>\n                        <Menu.Item key=\"2\"><a href={`./#/charts`}  > <Icon type=\"bar-chart\" />数据可视化</a></Menu.Item>\n                        <SubMenu\n                            key=\"sub1\"\n                            title={<span><Icon type=\"plus-square\" /><span>按类别浏览</span></span>}\n                            onClick={(key)=>{\n                                console.log(key.key);\n                                this.setState({\n                                    listContent : \"genre\",\n                                });\n                                this.searchGenre(key.key);\n                            }}\n                        >\n                            <Menu.Item key=\"剧情\">剧情</Menu.Item>\n                            <Menu.Item key=\"喜剧\">喜剧</Menu.Item>\n                            <Menu.Item key=\"动作\">动作</Menu.Item>\n                            <Menu.Item key=\"科幻\">科幻</Menu.Item>\n                            <Menu.Item key=\"动画\">动画</Menu.Item>\n                            <Menu.Item key=\"惊悚\">惊悚</Menu.Item>\n                            <Menu.Item key=\"爱情\">爱情</Menu.Item>\n                            <Menu.Item key=\"犯罪\">犯罪</Menu.Item>\n                            <Menu.Item key=\"冒险\">冒险</Menu.Item>\n\n                        </SubMenu>\n                    </Menu>\n                </Header>\n                <Content style={{ padding: '0 50px' }}>\n                    <Breadcrumb style={{ margin: '16px 0' }}>\n                        <Breadcrumb.Item>Home</Breadcrumb.Item>\n                    </Breadcrumb>\n                    <div style={{ background: '#fff', padding: 24, minHeight: 280 }}>\n                        <h1>Movie list</h1>\n                        <Search\n                            addonBefore={selectBefore}\n                            placeholder=\"input search text\"\n                            enterButton=\"Search\"\n                            size=\"large\"\n                            onSearch={(value) => {\n                                this.setState({\n                                    listContent : howsearch,\n                                });\n                                if(howsearch ===\"title\") {\n                                    this.searchTitle(value);\n                                } else if(howsearch === \"genre\") {\n                                    this.searchGenre(value);\n                                } else if(howsearch === \"all\") {\n                                    this.searchAll(value);\n                                }\n                            }}\n                        />\n                        <List\n                            itemLayout=\"vertical\"\n                            size=\"large\"\n                            pagination={{\n                                onChange: (page) => {\n                                    if(this.state.listContent === \"\") {\n                                        this.fetchData(page);\n                                    } else if(this.state.listContent === \"genre\") {\n                                        this.fetchGenreData(this.state.genre, page);\n                                    } else if(this.state.listContent === \"title\") {\n                                        this.fetchTitleData(this.state.title, page);\n                                    }\n                                    this.setState({\n                                        pageId : page\n                                    });\n                                    console.log(page);\n                                },\n                                pageSize: 10,\n                                total : this.state.pageNum,\n                            }}\n                            dataSource={this.state.data}\n                            footer={< div > <b>movie</b> list</div >}\n                            renderItem={\n                                item => (\n                                    <List.Item\n                                        key={item.title}\n                                        actions={[<Rate disabled defaultValue={parseFloat(item.rating.average)/2}\n                                                        allowHalf tooltips={[item.rating.average,item.rating.average,item.rating.average,item.rating.average,item.rating.average]}/>,\n                                            <IconText type=\"edit\" text={item.rating.average+\"分\"}/>,\n                                            <IconText type=\"user\" text={item.rating.rating_people}/>]}\n                                        extra={<img width={100} alt=\"logo\" src= {item.poster} />}\n                                    >\n                                        <List.Item.Meta\n                                            //avatar={<Avatar shape = \"square\" size = {150} src={item.poster} width = {100} alt=\"logo\"/>}\n                                            title={<a href={`./#/detail/${item._id}`}  >  {item.title}</a>}\n                                            description={item.pubdate+\"(\"+item.genres+\")\"}\n                                        />\n                                    </List.Item>)}\n                        />\n                    </div>\n                </Content>\n\n                <Footer style={{ textAlign: 'center' }}>\n                    同济大学软件学院Web课lab03 ©2018 Created by 白皓月\n                </Footer>\n            </Layout>\n            )\n    }\n\n\n}\n\n\nclass RouterIndex extends Component {\n    render(){\n        return(\n            <Router>\n                <Route exact path=\"/\" component={Index} />\n                <Route path = \"/detail/:id\" component={Detail} />\n                <Route path = \"/charts\" component={Charts} />\n            </Router>)\n    }\n}\nexport default RouterIndex;","import React from 'react'\nimport App from './components/App';\nimport ReactDOM from 'react-dom';\n\nReactDOM.render((\n    <App />\n), document.getElementById('root'));\n"],"sourceRoot":""}