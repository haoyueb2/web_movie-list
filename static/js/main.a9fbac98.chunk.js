(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,a){e.exports=a(203)},126:function(e,t,a){},203:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(35),o=a(36),i=a(40),c=a(37),u=a(41),m=(a(125),a(208)),s=a(204),y=a(62),h=a(211),v=a(11),f=a(212),d=a(209),g=a(210),b=(a(126),a(120)),p=a(38),E=a(207),x=s.a.Header,k=s.a.Content,S=s.a.Footer,N=[],w={},O=(h.b.SubMenu,function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).state={data:{},directors:"",casts:"",writers:"",rating:{average:1,rating_people:""}},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("./films.json").then(function(e){return e.text()}).then(function(t){var a=t.split("\n"),r=!0,n=!1,l=void 0;try{for(var o,i=a[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var c=o.value,u=JSON.parse(c);N.push(u)}}catch(F){n=!0,l=F}finally{try{r||null==i.return||i.return()}finally{if(n)throw l}}for(var m=0,s=N;m<s.length;m++){var y=s[m];if(y._id===e.props.match.params.id){w=y,console.log(w);var h="",v=!0,f=!1,d=void 0;try{for(var g,b=w.directors[Symbol.iterator]();!(v=(g=b.next()).done);v=!0){h+=g.value.name}}catch(F){f=!0,d=F}finally{try{v||null==b.return||b.return()}finally{if(f)throw d}}var p="",E=!0,x=!1,k=void 0;try{for(var S,O=w.casts[Symbol.iterator]();!(E=(S=O.next()).done);E=!0){p=p+S.value.name+"/"}}catch(F){x=!0,k=F}finally{try{E||null==O.return||O.return()}finally{if(x)throw k}}var I="",j=!0,A=!1,C=void 0;try{for(var z,H=w.writers[Symbol.iterator]();!(j=(z=H.next()).done);j=!0){I=I+z.value.name+"/"}}catch(F){A=!0,C=F}finally{try{j||null==H.return||H.return()}finally{if(A)throw C}}var J={average:5,rating_people:""};J.average=parseFloat(w.rating.average),J.rating_people=w.rating.rating_people,e.setState({data:w,directors:h,casts:p,writers:I,rating:J})}}})}},{key:"render",value:function(){return n.a.createElement(s.a,{className:"layout"},n.a.createElement(x,null,n.a.createElement("div",{className:"logo"}),n.a.createElement(h.b,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"],style:{lineHeight:"64px"}},n.a.createElement(h.b.Item,{key:"1"},n.a.createElement("a",{href:"./"}," ",n.a.createElement(v.a,{type:"bars"}),"\u7535\u5f71\u5217\u8868")),n.a.createElement(h.b.Item,{key:"2"},n.a.createElement("a",{href:"./#/charts"}," ",n.a.createElement(v.a,{type:"bar-chart"}),"\u6570\u636e\u53ef\u89c6\u5316")))),n.a.createElement(k,{style:{padding:"0 50px"}},n.a.createElement(f.a,{style:{margin:"16px 0"}},n.a.createElement(f.a.Item,null,"details")),n.a.createElement("div",{style:{background:"#fff",padding:24,minHeight:280,Align:"center"}},n.a.createElement("h1",null,this.state.data.title),n.a.createElement(E.a,{style:{width:300},cover:n.a.createElement("img",{alt:"example",src:this.state.data.poster})}),n.a.createElement("h2",null,"\u5bfc\u6f14\uff1a",this.state.directors),n.a.createElement("h2",null,"\u4e3b\u6f14\uff1a",this.state.casts),n.a.createElement("h3",null,"\u8bc4\u5206\uff1a",this.state.rating.average,"(\u8bc4\u5206\u4eba\u6570",this.state.rating.rating_people,"\u4eba)"),n.a.createElement(g.a,{disabled:!0,value:this.state.rating.average/2,allowHalf:!0}),n.a.createElement("h3",null,"\u4e0a\u6620\u65e5\u671f\uff1a",this.state.data.pubdata),n.a.createElement("h3",null,"\u65f6\u957f\uff1a",this.state.data.duration,"\u5206\u949f"),n.a.createElement("h4",null,"\u539f\u8457\uff1a",this.state.writers),n.a.createElement("h4",null,"\u8bed\u8a00\uff1a",this.state.data.languages),n.a.createElement("p",null,"\u5267\u60c5\u6897\u6982\uff1a",this.state.data.summary))),n.a.createElement(S,{style:{textAlign:"center"}},"\u540c\u6d4e\u5927\u5b66\u8f6f\u4ef6\u5b66\u9662Web\u8bfelab02 \xa92018 Created by \u767d\u7693\u6708"))}}]),t}(r.Component)),I=a(19),j=s.a.Header,A=s.a.Content,C=s.a.Footer,z=[],H=(h.b.SubMenu,function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).state={data:[],genresNumber:[],countryNumber:[],languageNumber:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this;fetch("./films.json").then(function(e){return e.text()}).then(function(t){var a=t.split("\n"),r=!0,n=!1,l=void 0;try{for(var o,i=a[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var c=o.value,u=JSON.parse(c);z.push(u)}}catch(m){n=!0,l=m}finally{try{r||null==i.return||i.return()}finally{if(n)throw l}}e.setState({data:z,genresNumber:e.genreAnalyze(z),countryNumber:e.countryAnalyze(z),languageNumber:e.languageAnalyze(z)}),console.log(e.state.languageNumber)})}},{key:"genreAnalyze",value:function(e){var t=[{genre:"\u5267\u60c5",movieNumber:0}],a=!0,r=!1,n=void 0;try{for(var l,o=e[Symbol.iterator]();!(a=(l=o.next()).done);a=!0){var i=l.value,c=!1,u=!0,m=!1,s=void 0;try{for(var y,h=i.genres[Symbol.iterator]();!(u=(y=h.next()).done);u=!0){for(var v=y.value,f=0,d=t;f<d.length;f++){var g=d[f];g.genre===v&&(g.movieNumber++,c=!0)}c||t.push({genre:v,movieNumber:1})}}catch(b){m=!0,s=b}finally{try{u||null==h.return||h.return()}finally{if(m)throw s}}}}catch(b){r=!0,n=b}finally{try{a||null==o.return||o.return()}finally{if(r)throw n}}return t}},{key:"countryAnalyze",value:function(e){var t=[{country:"\u7f8e\u56fd",movieNumber:0}],a=!0,r=!1,n=void 0;try{for(var l,o=e[Symbol.iterator]();!(a=(l=o.next()).done);a=!0){var i=l.value,c=!1,u=!0,m=!1,s=void 0;try{for(var y,h=i.countries[Symbol.iterator]();!(u=(y=h.next()).done);u=!0){for(var v=y.value,f=0,d=t;f<d.length;f++){var g=d[f];g.country===v&&(g.movieNumber++,c=!0)}c||t.push({country:v,movieNumber:1})}}catch(b){m=!0,s=b}finally{try{u||null==h.return||h.return()}finally{if(m)throw s}}}}catch(b){r=!0,n=b}finally{try{a||null==o.return||o.return()}finally{if(r)throw n}}return t}},{key:"languageAnalyze",value:function(e){var t=[{language:"\u82f1\u8bed",movieNumber:0}],a=!0,r=!1,n=void 0;try{for(var l,o=e[Symbol.iterator]();!(a=(l=o.next()).done);a=!0){var i=l.value,c=!1,u=!0,m=!1,s=void 0;try{for(var y,h=i.languages[Symbol.iterator]();!(u=(y=h.next()).done);u=!0){for(var v=y.value,f=0,d=t;f<d.length;f++){var g=d[f];g.language===v&&(g.movieNumber++,c=!0)}c||t.push({language:v,movieNumber:1})}}catch(b){m=!0,s=b}finally{try{u||null==h.return||h.return()}finally{if(m)throw s}}}}catch(b){r=!0,n=b}finally{try{a||null==o.return||o.return()}finally{if(r)throw n}}return t}},{key:"searchGenre",value:function(e){for(var t=[],a=0,r=z;a<r.length;a++){var n=r[a],l=!0,o=!1,i=void 0;try{for(var c,u=n.genres[Symbol.iterator]();!(l=(c=u.next()).done);l=!0){-1!==c.value.indexOf(e)&&t.push(n)}}catch(m){o=!0,i=m}finally{try{l||null==u.return||u.return()}finally{if(o)throw i}}}this.setState({data:t})}},{key:"render",value:function(){return n.a.createElement(s.a,{className:"layout"},n.a.createElement(j,null,n.a.createElement("div",{className:"logo"}),n.a.createElement(h.b,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"],style:{lineHeight:"64px"}},n.a.createElement(h.b.Item,{key:"1"},n.a.createElement("a",{href:"./"}," ",n.a.createElement(v.a,{type:"bars"}),"\u7535\u5f71\u5217\u8868")),n.a.createElement(h.b.Item,{key:"2"},n.a.createElement("a",{href:"./#/charts"}," ",n.a.createElement(v.a,{type:"bar-chart"}),"\u6570\u636e\u53ef\u89c6\u5316")))),n.a.createElement(A,{style:{padding:"0 50px"}},n.a.createElement(f.a,{style:{margin:"16px 0"}},n.a.createElement(f.a.Item,null,"charts")),n.a.createElement("div",{style:{background:"#fff",padding:24,minHeight:280}},n.a.createElement(I.Chart,{height:400,data:this.state.genresNumber,scale:{movieNumber:{tickInterval:20}},forceFit:!0},n.a.createElement(I.Axis,{name:"genre"}),n.a.createElement(I.Axis,{name:"movieNumber"}),n.a.createElement(I.Tooltip,{crosshairs:{type:"y"}}),n.a.createElement(I.Geom,{type:"interval",position:"genre*movieNumber",color:"genre"})),n.a.createElement(I.Chart,{height:400,data:this.state.countryNumber,scale:{movieNumber:{tickInterval:10}},forceFit:!0},n.a.createElement(I.Axis,{name:"country"}),n.a.createElement(I.Axis,{name:"movieNumber"}),n.a.createElement(I.Tooltip,{crosshairs:{type:"y"}}),n.a.createElement(I.Geom,{type:"interval",position:"country*movieNumber",color:"country"})),n.a.createElement(I.Chart,{height:400,data:this.state.languageNumber,scale:{movieNumber:{tickInterval:10}},forceFit:!0},n.a.createElement(I.Axis,{name:"language"}),n.a.createElement(I.Axis,{name:"movieNumber"}),n.a.createElement(I.Tooltip,{crosshairs:{type:"y"}}),n.a.createElement(I.Geom,{type:"interval",position:"language*movieNumber",color:"language"})))),n.a.createElement(C,{style:{textAlign:"center"}},"\u540c\u6d4e\u5927\u5b66\u8f6f\u4ef6\u5b66\u9662Web\u8bfelab02 \xa92018 Created by \u767d\u7693\u6708"))}}]),t}(r.Component)),J=m.a.Search,F=[],M=s.a.Header,_=s.a.Content,G=s.a.Footer,T=y.a.Option,W="title",D=h.b.SubMenu,B=function(e){var t=e.type,a=e.text;return n.a.createElement("span",null,n.a.createElement(v.a,{type:t,style:{marginRight:8}}),a)},K=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).state={data:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.fetchData()}},{key:"fetchData1",value:function(){var e=this;fetch("./films.json").then(function(e){return e.text()}).then(function(t){var a=t.split("\n");F=[];var r=!0,n=!1,l=void 0;try{for(var o,i=a[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var c=o.value,u=JSON.parse(c);F.push(u)}}catch(m){n=!0,l=m}finally{try{r||null==i.return||i.return()}finally{if(n)throw l}}e.setState({data:F}),console.log(F)})}},{key:"fetchData",value:function(){var e=this;fetch("http://47.100.180.219:5000/api/films").then(function(e){return e.json()}).then(function(t){console.log(t),F=t,console.log(F),e.handleJson(),e.setState({data:F})})}},{key:"handleJson",value:function(){var e=!0,t=!1,a=void 0;try{for(var r,n=F[Symbol.iterator]();!(e=(r=n.next()).done);e=!0){var l=r.value;for(var o in console.log(l),l){try{l[o]=JSON.parse(l[o])}catch(i){console.log("\u51fa\u9519"+o+i)}console.log(l[o])}}}catch(c){t=!0,a=c}finally{try{e||null==n.return||n.return()}finally{if(t)throw a}}}},{key:"searchTitle",value:function(e){var t=[],a=!0,r=!1,n=void 0;try{for(var l,o=F[Symbol.iterator]();!(a=(l=o.next()).done);a=!0){var i=l.value;-1!==i.title.indexOf(e)&&t.push(i)}}catch(c){r=!0,n=c}finally{try{a||null==o.return||o.return()}finally{if(r)throw n}}this.setState({data:t})}},{key:"searchGenre",value:function(e){var t=[],a=!0,r=!1,n=void 0;try{for(var l,o=F[Symbol.iterator]();!(a=(l=o.next()).done);a=!0){var i=l.value,c=!0,u=!1,m=void 0;try{for(var s,y=i.genres[Symbol.iterator]();!(c=(s=y.next()).done);c=!0){-1!==s.value.indexOf(e)&&t.push(i)}}catch(h){u=!0,m=h}finally{try{c||null==y.return||y.return()}finally{if(u)throw m}}}}catch(h){r=!0,n=h}finally{try{a||null==o.return||o.return()}finally{if(r)throw n}}this.setState({data:t})}},{key:"searchAll",value:function(e){var t=[],a=!0,r=!1,n=void 0;try{for(var l,o=F[Symbol.iterator]();!(a=(l=o.next()).done);a=!0){var i=l.value;-1!==JSON.stringify(i).indexOf(e)&&t.push(i)}}catch(c){r=!0,n=c}finally{try{a||null==o.return||o.return()}finally{if(r)throw n}}this.setState({data:t})}},{key:"render",value:function(){var e=this,t=n.a.createElement(y.a,{defaultValue:"\u6309\u6807\u9898",style:{width:90},onChange:function(e){W=e}},n.a.createElement(T,{value:"title"},"\u6309\u6807\u9898"),n.a.createElement(T,{value:"genre"},"\u6309\u7c7b\u522b"),n.a.createElement(T,{value:"all"},"\u5168\u6587\u641c\u7d22"));return n.a.createElement(s.a,{className:"layout"},n.a.createElement(M,null,n.a.createElement("div",{className:"logo"}),n.a.createElement(h.b,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"],style:{lineHeight:"64px"}},n.a.createElement(h.b.Item,{key:"1"},n.a.createElement("a",{href:"./"}," ",n.a.createElement(v.a,{type:"bars"}),"\u7535\u5f71\u5217\u8868")),n.a.createElement(h.b.Item,{key:"2"},n.a.createElement("a",{href:"./#/charts"}," ",n.a.createElement(v.a,{type:"bar-chart"}),"\u6570\u636e\u53ef\u89c6\u5316")),n.a.createElement(D,{key:"sub1",title:n.a.createElement("span",null,n.a.createElement(v.a,{type:"plus-square"}),n.a.createElement("span",null,"\u6309\u7c7b\u522b\u6d4f\u89c8")),onClick:function(t){console.log(t.key),e.searchGenre(t.key)}},n.a.createElement(h.b.Item,{key:"\u5267\u60c5"},"\u5267\u60c5"),n.a.createElement(h.b.Item,{key:"\u559c\u5267"},"\u559c\u5267"),n.a.createElement(h.b.Item,{key:"\u52a8\u4f5c"},"\u52a8\u4f5c"),n.a.createElement(h.b.Item,{key:"\u79d1\u5e7b"},"\u79d1\u5e7b"),n.a.createElement(h.b.Item,{key:"\u52a8\u753b"},"\u52a8\u753b"),n.a.createElement(h.b.Item,{key:"\u60ca\u609a"},"\u60ca\u609a"),n.a.createElement(h.b.Item,{key:"\u7231\u60c5"},"\u7231\u60c5"),n.a.createElement(h.b.Item,{key:"\u72af\u7f6a"},"\u72af\u7f6a"),n.a.createElement(h.b.Item,{key:"\u5192\u9669"},"\u5192\u9669")))),n.a.createElement(_,{style:{padding:"0 50px"}},n.a.createElement(f.a,{style:{margin:"16px 0"}},n.a.createElement(f.a.Item,null,"Home")),n.a.createElement("div",{style:{background:"#fff",padding:24,minHeight:280}},n.a.createElement("h1",null,"Movie list"),n.a.createElement(J,{addonBefore:t,placeholder:"input search text",enterButton:"Search",size:"large",onSearch:function(t){"title"===W?e.searchTitle(t):"genre"===W?e.searchGenre(t):"all"===W&&e.searchAll(t)}}),n.a.createElement(d.a,{itemLayout:"vertical",size:"large",pagination:{onChange:function(e){console.log(e)},pageSize:10},dataSource:this.state.data,footer:n.a.createElement("div",null," ",n.a.createElement("b",null,"movie")," list"),renderItem:function(e){return n.a.createElement(d.a.Item,{key:e.title,actions:[n.a.createElement(g.a,{disabled:!0,defaultValue:parseFloat(e.rating.average)/2,allowHalf:!0,tooltips:[e.rating.average,e.rating.average,e.rating.average,e.rating.average,e.rating.average]}),n.a.createElement(B,{type:"edit",text:e.rating.average+"\u5206"}),n.a.createElement(B,{type:"user",text:e.rating.rating_people})],extra:n.a.createElement("img",{width:100,alt:"logo",src:e.poster})},n.a.createElement(d.a.Item.Meta,{title:n.a.createElement("a",{href:"./#/detail/".concat(e._id)},"  ",e.title),description:e.pubdate+"("+e.genres+")"}))}}))),n.a.createElement(G,{style:{textAlign:"center"}},"\u540c\u6d4e\u5927\u5b66\u8f6f\u4ef6\u5b66\u9662Web\u8bfelab02 \xa92018 Created by \u767d\u7693\u6708"))}}]),t}(r.Component),V=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement(b.a,null,n.a.createElement(p.a,{exact:!0,path:"/",component:K}),n.a.createElement(p.a,{path:"/detail/:id",component:O}),n.a.createElement(p.a,{path:"/charts",component:H}))}}]),t}(r.Component),q=a(8);a.n(q).a.render(n.a.createElement(V,null),document.getElementById("root"))}},[[123,1,2]]]);
//# sourceMappingURL=main.a9fbac98.chunk.js.map